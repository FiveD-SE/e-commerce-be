# Promotion Service Environment Variables Example
# Copy this file to .env and update the values as needed

# Database Configuration
SPRING_DATASOURCE_URL=jdbc:mysql://promotion-mysql:3306/promotion_service?createDatabaseIfNotExist=true&characterEncoding=UTF-8&useUnicode=true&allowMultiQueries=true
SPRING_DATASOURCE_USERNAME=root
SPRING_DATASOURCE_PASSWORD=secret

# JPA Configuration
SPRING_JPA_HIBERNATE_DDL_AUTO=update
SPRING_JPA_SHOW_SQL=false

# Flyway Configuration
SPRING_FLYWAY_ENABLED=true

# Redis Configuration
REDIS_HOST=redis
REDIS_PORT=6379
REDIS_PASSWORD=

# Eureka Configuration
EUREKA_CLIENT_SERVICEURL_DEFAULTZONE=http://eureka-server:8761/eureka/
EUREKA_INSTANCE_HOSTNAME=promotion-service

# Logging Configuration
LOG_FILE_PATH=/app/logs

# Promotion Service Specific Configuration
PROMOTION_VALIDATION_MAX_USES_PER_USER=10
PROMOTION_VALIDATION_MAX_DISCOUNT_PERCENTAGE=100
PROMOTION_VALIDATION_MAX_DISCOUNT_AMOUNT=10000
PROMOTION_VALIDATION_MIN_ORDER_AMOUNT=1
PROMOTION_VALIDATION_MAX_CODE_LENGTH=50

PROMOTION_CACHE_ENABLED=true
PROMOTION_CACHE_TTL=300
PROMOTION_CACHE_MAX_SIZE=1000

PROMOTION_AUTO_APPLY_ENABLED=true
PROMOTION_AUTO_APPLY_MAX_PROMOTIONS=5

PROMOTION_STOCK_LOW_THRESHOLD=10
PROMOTION_STOCK_AUTO_DEACTIVATE_WHEN_EMPTY=true

PROMOTION_CLEANUP_EXPIRED_PROMOTIONS=true
PROMOTION_CLEANUP_INTERVAL=3600

# Feign Client Configuration
FEIGN_CLIENT_CONNECT_TIMEOUT=5000
FEIGN_CLIENT_READ_TIMEOUT=10000
FEIGN_CLIENT_PAYMENT_SERVICE_CONNECT_TIMEOUT=5000
FEIGN_CLIENT_PAYMENT_SERVICE_READ_TIMEOUT=15000
FEIGN_CLIENT_ORDER_SERVICE_CONNECT_TIMEOUT=5000
FEIGN_CLIENT_ORDER_SERVICE_READ_TIMEOUT=10000

# Circuit Breaker Configuration
RESILIENCE4J_CIRCUITBREAKER_PAYMENT_SERVICE_SLIDING_WINDOW_SIZE=10
RESILIENCE4J_CIRCUITBREAKER_PAYMENT_SERVICE_MINIMUM_NUMBER_OF_CALLS=5
RESILIENCE4J_CIRCUITBREAKER_PAYMENT_SERVICE_FAILURE_RATE_THRESHOLD=50
RESILIENCE4J_CIRCUITBREAKER_PAYMENT_SERVICE_WAIT_DURATION_IN_OPEN_STATE=5s

# MySQL Database Configuration
MYSQL_ROOT_PASSWORD=secret
MYSQL_DATABASE=promotion_service
MYSQL_USER=promotion_user
MYSQL_PASSWORD=promotion_password
